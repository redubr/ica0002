##
mysql_host: "{{groups['db_master'][0]}}" #default server2 -- note
mysql_hostname: "{{mysql_host}}" #server2 by default
##
mysql_bind_a: 0.0.0.0
mysql_database: agama
mysql_user: agama
mysql_user_prometheus: exporter
mysql_user_backup: backup
mysql_user_replication: replication
mysql_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  38633530356563323864656434333663613064373739643231393566653361366564366630653362
  3961663432333935326464663832383265636335636531650a363538636665633638666339393932
  31326634383231323262336365343365313063653037643333653135386262653662626532646633
  6235663030333265360a366464373038363237396236643436383335363334626466336461356136
  3162

mysql_exporter_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  62336465356431646365373230656137353134313765373066623839303338333334393634343738
  6437356161333466343666303866393166383835616464660a383832616664373139613263656638
  33386631653462373034303065366531323932633835636434346432333062303233356632643161
  6630643865336638370a313138643434343936396534306233333639613335653038346430356636
  6663

mysql_backup_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  39643063623933303136383030393839616131323463326366666262353033396337373035333038
  3832613131643466363766363439356361373835383065380a343637393039363130396663326634
  37373932613635656334353338636632363564646663306335323064356534636331366161643061
  3233323161613462610a646336396664633966376363646530383234666362643233306662323030
  3930

mysql_replication_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37393336613265363861303563366239396336656565323361323735316563396336363238353639
  3137326564343137343737633066383637643765656237310a373831363262633633623230376438
  33333734323337313962323864393331616433613836393533343933343736656137343162626164
  3366333236353565620a366566623332656134646532373937613065393665396363383234356636
  3533

super_secret_transfer_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  32343435353837303437333166616130306436303734646630356533386532663431316265373430
  6463393663636162316431653038306435353564353363300a313938336430323238613365313132
  61373535353634643263626139366331303039373965653561323235646238306530326337386234
  6433343832373538630a643537613133346437303532366139643036653730653639366564613133
  37343564616438353062326639636362653463613865623738626533316233646437663138633063
  3835353031363261386162626638643138646164393533623737

dns_update_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65316662643063326232633765623235386434326635386461393234313361373937306661613933
  3339393239356336613738393839653430656538386331660a306364336332623730613338363436
  64663631333736663166366132646631663132333830653565623364663731633066363964643238
  6534663264353763350a363566396639396163336363626265323635663666383630383866393062
  32363463376661323062353631366662613436653364323236353533643363646436336363313430
  6133653331303966633734313962316539343164386332366636

grafana_admin_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37633632386264333033613134623131653531626331306431373132333231316562616538373639
  3335323565666130323230313037386339333232333866330a613330306131373232336166616439
  39306630653538316461386362363234623632336332343436393632623362306163373237356265
  3734666335353636390a333139326662373236376430393465646136393630633037383530303864
  3438

## DNS
dns_forwarders:
  - 1.1.1.1
  - 8.8.8.8

lan: 192.168.42.0/23
localhost: 127.0.0.0/8
startup_name: infra
domain_name: "{{startup_name}}.rd"

## serv2
monitoring_host: "{{ ansible_host }}:{{ ansible_port//100}}80"

## Backup server
backup_server_ip: 192.168.42.132
backup_server_sshkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"

## Replication
node_id: "{{ (ansible_port / 100) | int }}"

## Records

dns_a_record:
  backup.infra.rd: "{{backup_server_ip}}"

dns_cname_record:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['haproxy'][0] }}"
  lb2: "{{ groups['haproxy'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_slaves'][0] }}"
  ns2: "{{ groups['dns_master'][0] }}"
  prometheus: "{{ groups['prometh'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"

#Ports docker
agama_docker_port: 5000
docker_grafana_port: 3000

#SA Ports
prom_port: 9090
bind_stats: 8053

#Prometheus and ports
prom:
  linux:
    port: 9100
  bind9:
    port: 9119
  nginx:
    port: 9113
  mysql:
    port: 9104
  haproxy:
    port: 9101
  keepalived:
    port: 9165
  influxdb:
    port: 9424