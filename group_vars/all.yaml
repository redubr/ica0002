##
mysql_host: 192.168.42.73 #todo dynamic
mysql_hostname: server2
##
mysql_database: agama
mysql_user: agama
mysql_user_prometheus: exporter
mysql_user_backup: backup
mysql_user_replication: replication
mysql_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  30353231643437643930646432386433656533396262396264646466663665383762643530386232
  3832323135656538663338616533313539383334393962610a666637333162333063396463623434
  36333937343832316233393561323530616131366664336132343963343936623865656638373937
  3336393834303763630a616563666530626263306138373836623032366161616665343231356338
  3735

mysql_exporter_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  36666239366335353264666435613339616563353064666266383966646164326133323935303837
  6539626164313738643135323463396636393866303331660a656131646634393431376333643263
  64333761326566313038396532663936306235353531393836323462623264643934323266326563
  3261386331653664340a636464326461306432303938613963363961376265636662633731656137
  3036

mysql_backup_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37323437376237663434386365333930393730613331326266633736396337643734633637353765
  6636383566313532636139343766613836333334393563330a323633306536336332653363323033
  63353366613365626666373532393362366331366434323561396531383162326335303530363836
  3737616238356364370a373261363433626661656331333734663934393531626137333664303834
  3938

mysql_replication_pw: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37363565353630343734656138346434343135363530316564383466633338643938643038633433
  3831636636663964306138343365393839366235396464630a323530303561326462386237316434
  37626364616233643634363461313936306437623263353664633530316231306563353430326239
  3632376435333631380a323833656536613561613966663235396332323538353334313438353830
  3763

super_secret_transfer_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  32343435353837303437333166616130306436303734646630356533386532663431316265373430
  6463393663636162316431653038306435353564353363300a313938336430323238613365313132
  61373535353634643263626139366331303039373965653561323235646238306530326337386234
  6433343832373538630a643537613133346437303532366139643036653730653639366564613133
  37343564616438353062326639636362653463613865623738626533316233646437663138633063
  3835353031363261386162626638643138646164393533623737

dns_update_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65316662643063326232633765623235386434326635386461393234313361373937306661613933
  3339393239356336613738393839653430656538386331660a306364336332623730613338363436
  64663631333736663166366132646631663132333830653565623364663731633066363964643238
  6534663264353763350a363566396639396163336363626265323635663666383630383866393062
  32363463376661323062353631366662613436653364323236353533643363646436336363313430
  6133653331303966633734313962316539343164386332366636

## DNS
dns_forwarders:
  - 1.1.1.1
  - 8.8.8.8

lan: 192.168.42.0/23
localhost: 127.0.0.0/8
startup_name: infra
domain_name: "{{startup_name}}.rd"
dns_listen: 192.168.42.102 # Todo dynamic

## serv2
monitoring_host: 193.40.156.67:10280 #public url serv3 # todo where used?

## Backup server
backup_server_ip: 192.168.42.132
backup_server_sshkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"

## Replication
node_id: "{{ (ansible_port / 100) | int }}"

## Records

dns_a_record:
  backup.infra.rd: "{{backup_server_ip}}"

dns_cname_record:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['haproxy'][0] }}"
  lb2: "{{ groups['haproxy'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_slaves'][0] }}"
  ns2: "{{ groups['dns_master'][0] }}"
  prometheus: "{{ groups['prometh'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"

